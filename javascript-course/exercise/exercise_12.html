<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Exercise 12 | Advanced Functions</title>
  </head>
  <body>
    <button
      class="js-start-button"
    >
      Start
    </button>

    <br />
    <br />

    <button
      class="js-add-to-cart-button"
      onclick="
        addToCart()
      "
    >
      Add to cart
    </button>

    <p class="js-added-text"></p>

    <br />
    <br />

    <button
      class="js-add-button"
      onclick="
        message++
    "
    >
      Add
    </button>

    <button
      class="js-remove-button"
      onclick="
        if (message > 0) {
          message--

          if (message === 0) {
            stopNotification()
          }
        }
    "
    >
      Remove
    </button>

    <script>
      /*
      const add = function () {
        console.log(2 + 3);
      };

      add();
      add();

      function runTwice(fun) {
        fun()
        fun()
      }

      runTwice(function() {
        console.log('12b')
      })
    
      runTwice(add)
      */

      /*

      const button = document.querySelector(".js-start-button");

      function loadingBtn() {
        button.innerHTML = "Loading...";
      }

      function changeButton() {
        loadingBtn();

        setTimeout(function () {
          button.innerHTML = "Finished";
        }, 1000);
      }

      let removedTimeout;

      function addToCart() {
        const addedText = document.querySelector(".js-added-text");

        addedText.innerHTML = "Added";

        clearTimeout(removedTimeout);

        removedTimeout = setTimeout(function () {
          addedText.innerHTML = "";
        }, 2000);
      }

      */

      /*
      let message = 2;

      let intervalId;
      let isDisplayingNotification;

      isDisplayingNotification = true;

      intervalId = setInterval(function () {
        if (document.title === "App") {
          document.title = `(${message}) New messages`;
        } else {
          document.title = "App";
        }
      }, 1000);

      function stopNotification() {
        isDisplayingNotification = false;

        clearInterval(intervalId);
        document.title = "App";
      }

       */

      const multiply = (num1, num2) => num1 * num2;

      console.log(multiply(2, 3));
      console.log(multiply(7, 10));

      function countPositive(nums) {
        let positiveNumbers = 0;

        nums.forEach((value) => {
          if (value > 0) {
            positiveNumbers++;
          }
        });

        return positiveNumbers;
      }

      console.log(countPositive([1, -3, 5]));
      console.log(countPositive([-2, 3, -5, 7, 10]));

      // function addNum(array, num) {
      //   return array.map((value) => {
      //     return value + num;
      //   });
      // }

      function addNum(array, num) {
        return array.map((value) => value + num);
      }

      console.log(addNum([1, 2, 3], 2));
      console.log(addNum([-2, -1, 0, 99], 2));

      function removeEgg(foods) {
        let eggRemoved = 0;

        return foods.filter((value) => {
          if (value === "egg" && eggRemoved < 2) {
            eggRemoved++;
            return false;
          }
          return true;
        });
      }

      console.log(removeEgg(["egg", "apple", "egg", "egg", "ham"]));

      const button = document.querySelector(".js-start-button");

      button.addEventListener('click', () => {
        setTimeout(() => {
          button.innerHTML = "Finished";
        }, 1000);
      })
      /*
      function loadingBtn() {
        button.innerHTML = "Loading...";
      }

      function changeButton() {
        // loadingBtn();

        setTimeout(() => {
          button.innerHTML = "Finished";
        }, 1000);
      }
        */
    </script>
  </body>
</html>
